@tailwind base;
@tailwind components;
@tailwind utilities;

html {
  overflow-y: scroll;
  color-scheme: light;
}

html.dark {
  color-scheme: dark;
}

html,
body {
  @apply size-full;
}

body {
  @apply font-sans antialiased;
  @apply flex flex-col;
  @apply bg-stone-100 dark:bg-stone-900;
  @apply text-black/50 dark:text-white/75;
}

header {
  @apply fixed top-0 left-0 right-0 z-50 py-5;
  @apply bg-stone-100/75 dark:bg-stone-900/25;
  @apply backdrop-blur-sm saturate-200;
}

main {
  @apply flex-1 pt-28 pb-12 lg:pt-32 lg:pb-16;
}

footer {
  @apply py-5 text-sm;
}

article {
  @apply max-w-full prose prose-base dark:prose-invert prose-img:mx-auto prose-img:my-auto;
  @apply prose-headings:font-semibold prose-p:font-serif;
  @apply prose-headings:text-black prose-headings:dark:text-white;
}

mjx-container {
  font-size: 87.5% !important;
}

/* Target SVG inside mjx-container for inline math */
mjx-container:not([display="true"]) svg {
  display: inline !important;
  vertical-align: middle;
}

/* Center display math blocks - scrollable when overflowing */
mjx-container[display="true"] {
  display: block !important;
  margin: 1em 0;
  overflow-x: auto;
  overflow-y: visible;
  text-align: center;
}

/* SVG centers when small, left-aligns when overflowing (via margin auto) */
mjx-container[display="true"] svg {
  display: block;
  max-width: none;
  margin: 0 auto;
  height: auto;
}

@layer utilities {
  article a {
    @apply font-sans text-current underline underline-offset-2;
    @apply decoration-black/15 dark:decoration-white/30;
    @apply transition-colors duration-300 ease-in-out;
  }
  article a:hover {
    @apply text-black dark:text-white;
    @apply decoration-black/25 dark:decoration-white/50;
  }
}

.animate {
  @apply opacity-0 translate-y-3;
  @apply transition-all duration-700 ease-out;
}

.animate.show {
  @apply opacity-100 translate-y-0;
}

/* Custom scrollbar styling */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-black/10 dark:bg-white/10;
  border-radius: 6px;
  border: 3px solid transparent;
  background-clip: padding-box;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-black/20 dark:bg-white/20;
}

/* Firefox scrollbar styling */
* {
  scrollbar-width: thin;
  scrollbar-color: rgb(0 0 0 / 0.1) transparent;
}

html.dark * {
  scrollbar-color: rgb(255 255 255 / 0.1) transparent;
}